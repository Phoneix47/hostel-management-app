{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect}from\"react\";import{Table,Form,Button}from\"react-bootstrap\";import{useDispatch}from\"react-redux\";import{postAttendance}from\"../actions/attendanceActions\";import{Link}from\"react-router-dom\";var AttendanceTableComponent=function AttendanceTableComponent(_ref){var students=_ref.students,attendanceMap=_ref.attendanceMap,setAttendanceMap=_ref.setAttendanceMap,attendance=_ref.attendance,roomNo=_ref.roomNo;var dispatch=useDispatch();useEffect(function(){},[dispatch,attendanceMap]);var updateAttendance=function updateAttendance(){if(attendance){if(!attendance.roomNo.includes(roomNo)){attendance.roomNo.push(roomNo);}}var roomData=attendance?attendance.roomNo:roomNo;var dataData=attendanceMap;var detailsData=attendance?attendance.details:{};students.map(function(student){detailsData[student._id]={name:student.name,contact:student.contact,roomNo:student.roomNo};});dispatch(postAttendance({roomNo:roomData,details:detailsData,data:dataData}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Attendance\"}),/*#__PURE__*/_jsx(\"th\",{children:\"STATUS\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CONTACT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CITY\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:students&&students.map(function(student){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/student/\".concat(student._id),children:student.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"status\",children:/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",size:\"sm\",defaultValue:attendanceMap[student._id],onChange:function onChange(e){var tempMap=attendanceMap;tempMap[student._id]=e.target.value;setAttendanceMap(tempMap);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Hostel\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Home\"}),/*#__PURE__*/_jsx(\"option\",{children:\"outside\"})]})})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{style:{color:student.status===\"Outside\"?\"red\":student.status===\"Home\"?\"blue\":\"black\"},children:student.status})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(student.contact),children:student.contact})}),/*#__PURE__*/_jsx(\"td\",{children:student.city})]},student._id)});})})]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:updateAttendance,children:\"Update Attendance\"})]});};export default AttendanceTableComponent;","map":{"version":3,"sources":["/home/mrrobot/React/Hostel-Management-master/server/frontend/src/components/attendanceTableComponent.jsx"],"names":["React","useEffect","Table","Form","Button","useDispatch","postAttendance","Link","AttendanceTableComponent","students","attendanceMap","setAttendanceMap","attendance","roomNo","dispatch","updateAttendance","includes","push","roomData","dataData","detailsData","details","map","student","_id","name","contact","data","e","tempMap","target","value","color","status","city"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Table, Form, Button } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { postAttendance } from \"../actions/attendanceActions\";\nimport { Link } from \"react-router-dom\";\nconst AttendanceTableComponent = ({\n  students,\n  attendanceMap,\n  setAttendanceMap,\n  attendance,\n  roomNo,\n}) => {\n  const dispatch = useDispatch();\n  useEffect(() => {}, [dispatch, attendanceMap]);\n  const updateAttendance = () => {\n    if (attendance) {\n      if (!attendance.roomNo.includes(roomNo)) {\n        attendance.roomNo.push(roomNo);\n      }\n    }\n    const roomData = attendance ? attendance.roomNo : roomNo;\n    const dataData = attendanceMap;\n    const detailsData = attendance ? attendance.details : {};\n    students.map((student) => {\n      detailsData[student._id] = {\n        name: student.name,\n        contact: student.contact,\n        roomNo: student.roomNo,\n      };\n    });\n\n    dispatch(\n      postAttendance({\n        roomNo: roomData,\n        details: detailsData,\n        data: dataData,\n      })\n    );\n  };\n  return (\n    <>\n      <Table striped bordered hover responsive className=\"table-sm\">\n        <thead>\n          <tr>\n            <th>NAME</th>\n            <th>Attendance</th>\n            <th>STATUS</th>\n            <th>CONTACT</th>\n            <th>CITY</th>\n          </tr>\n        </thead>\n        <tbody>\n          {students &&\n            students.map((student) => (\n              <>\n                <tr key={student._id}>\n                  <td>\n                    <Link to={`/student/${student._id}`}>{student.name}</Link>\n                  </td>\n                  <td>\n                    <Form>\n                      <Form.Group controlId=\"status\">\n                        <Form.Control\n                          as=\"select\"\n                          size=\"sm\"\n                          defaultValue={attendanceMap[student._id]}\n                          onChange={(e) => {\n                            var tempMap = attendanceMap;\n                            tempMap[student._id] = e.target.value;\n                            setAttendanceMap(tempMap);\n                          }}\n                        >\n                          <option>Hostel</option>\n                          <option>Home</option>\n                          <option>outside</option>\n                        </Form.Control>\n                      </Form.Group>\n                    </Form>\n                  </td>\n                  <td>\n                    <span\n                      style={{\n                        color:\n                          student.status === \"Outside\"\n                            ? \"red\"\n                            : student.status === \"Home\"\n                            ? \"blue\"\n                            : \"black\",\n                      }}\n                    >\n                      {student.status}\n                    </span>\n                  </td>\n                  <td>\n                    <a href={`tel:${student.contact}`}>{student.contact}</a>\n                  </td>\n                  <td>{student.city}</td>\n                </tr>\n              </>\n            ))}\n        </tbody>\n      </Table>\n      <Button variant=\"success\" onClick={updateAttendance}>\n        Update Attendance\n      </Button>\n    </>\n  );\n};\n\nexport default AttendanceTableComponent;\n"]},"metadata":{},"sourceType":"module"}