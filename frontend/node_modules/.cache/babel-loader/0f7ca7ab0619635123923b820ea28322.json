{"ast":null,"code":"import _regeneratorRuntime from\"/React/Hostel-Management-master/server/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/React/Hostel-Management-master/server/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{ATTENDANCE_DATA_ENTER_FAIL,ATTENDANCE_DATA_ENTER_REQUEST,ATTENDANCE_DATA_ENTER_SUCCESS,ATTENDANCE_ANALYSIS_FAIL,ATTENDANCE_ANALYSIS_REQUEST,ATTENDANCE_ANALYSIS_SUCCESS,ATTENDANCE_DELETE_REQUEST,ATTENDANCE_DELETE_SUCCESS,ATTENDANCE_DELETE_FAIL}from\"../constants/attendanceConstant\";import axios from\"axios\";export var postAttendance=function postAttendance(attendance){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _getState,userInfo,config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:ATTENDANCE_DATA_ENTER_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context.next=6;return axios.post(\"/attendance/\",attendance,config);case 6:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:ATTENDANCE_DATA_ENTER_SUCCESS,payload:data});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:ATTENDANCE_DATA_ENTER_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var getAnalysisByDate=function getAnalysisByDate(date){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var _getState2,userInfo,config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:ATTENDANCE_ANALYSIS_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context2.next=6;return axios.post(\"/attendance/getAnalysis\",{date:date},config);case 6:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:ATTENDANCE_ANALYSIS_SUCCESS,payload:data});_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:ATTENDANCE_ANALYSIS_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var deleteAttendanceByDate=function deleteAttendanceByDate(days){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _getState3,userInfo,config,_yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:ATTENDANCE_DELETE_REQUEST});_getState3=getState(),userInfo=_getState3.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context3.next=6;return axios.delete(\"/attendance/\".concat(days),config);case 6:_yield$axios$delete=_context3.sent;data=_yield$axios$delete.data;dispatch({type:ATTENDANCE_DELETE_SUCCESS,payload:data});_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);dispatch({type:ATTENDANCE_DELETE_FAIL,payload:_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["/React/Hostel-Management-master/server/frontend/src/actions/attendanceActions.jsx"],"names":["ATTENDANCE_DATA_ENTER_FAIL","ATTENDANCE_DATA_ENTER_REQUEST","ATTENDANCE_DATA_ENTER_SUCCESS","ATTENDANCE_ANALYSIS_FAIL","ATTENDANCE_ANALYSIS_REQUEST","ATTENDANCE_ANALYSIS_SUCCESS","ATTENDANCE_DELETE_REQUEST","ATTENDANCE_DELETE_SUCCESS","ATTENDANCE_DELETE_FAIL","axios","postAttendance","attendance","dispatch","getState","type","userInfo","userLogin","config","headers","Authorization","token","post","data","payload","response","message","getAnalysisByDate","date","deleteAttendanceByDate","days","delete"],"mappings":"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","sourcesContent":["import {\n  ATTENDANCE_DATA_ENTER_FAIL,\n  ATTENDANCE_DATA_ENTER_REQUEST,\n  ATTENDANCE_DATA_ENTER_SUCCESS,\n  ATTENDANCE_ANALYSIS_FAIL,\n  ATTENDANCE_ANALYSIS_REQUEST,\n  ATTENDANCE_ANALYSIS_SUCCESS,\n  ATTENDANCE_DELETE_REQUEST,\n  ATTENDANCE_DELETE_SUCCESS,\n  ATTENDANCE_DELETE_FAIL,\n} from \"../constants/attendanceConstant\";\nimport axios from \"axios\";\n\nexport const postAttendance = (attendance) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ATTENDANCE_DATA_ENTER_REQUEST });\n    const {\n      userLogin: { userInfo },\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n\n    const { data } = await axios.post(`/attendance/`, attendance, config);\n    dispatch({\n      type: ATTENDANCE_DATA_ENTER_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: ATTENDANCE_DATA_ENTER_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const getAnalysisByDate = (date) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ATTENDANCE_ANALYSIS_REQUEST });\n    const {\n      userLogin: { userInfo },\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n    const { data } = await axios.post(\n      `/attendance/getAnalysis`,\n      { date: date },\n      config\n    );\n\n    dispatch({\n      type: ATTENDANCE_ANALYSIS_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: ATTENDANCE_ANALYSIS_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const deleteAttendanceByDate = (days) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ATTENDANCE_DELETE_REQUEST });\n    const {\n      userLogin: { userInfo },\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n    const { data } = await axios.delete(`/attendance/${days}`, config);\n\n    dispatch({\n      type: ATTENDANCE_DELETE_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: ATTENDANCE_DELETE_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}