{"ast":null,"code":"import _slicedToArray from\"/home/mrrobot/React/Hostel-Management-master/server/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Student from\"../components/student\";import Loading from\"../components/loader.jsx\";import Message from\"../components/message.jsx\";import{listStudents}from\"../actions/studentActions\";import Paginate from\"../components/paginate\";import{Row,Col,ButtonGroup,ToggleButton,Container}from\"react-bootstrap\";import StudentsTableView from\"./studentTableView\";var HomeView=function HomeView(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isGrid=_useState2[0],setIsGrid=_useState2[1];var keyword=match.params.keyword;var pageNumber=match.params.pageNumber||1;var userLogin=useSelector(function(state){return state.userLogin;});var userLoading=userLogin.loading,userInfo=userLogin.userInfo;var dispatch=useDispatch();var studentsList=useSelector(function(state){return state.studentsList;});var loading=studentsList.loading,error=studentsList.error,students=studentsList.students,page=studentsList.page,pages=studentsList.pages;useEffect(function(){if(!userLoading&&!userInfo){history.push(\"/login\");}dispatch(listStudents(keyword,pageNumber));},[keyword,pageNumber]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-md-center\",children:[/*#__PURE__*/_jsx(Col,{xs:true,lg:\"2\"}),/*#__PURE__*/_jsx(Col,{md:\"auto\",children:/*#__PURE__*/_jsx(ButtonGroup,{toggle:true,children:[\"Grid\",\"Table\"].map(function(type){return/*#__PURE__*/_jsx(ToggleButton,{type:\"radio\",variant:\"secondary\",name:\"radio\",value:type,checked:(isGrid?\"Grid\":\"Table\")===type,onChange:function onChange(e){return setIsGrid(e.target.value===\"Grid\"?true:false);},children:type===\"Grid\"?/*#__PURE__*/_jsx(_Fragment,{children:\" Grid\"}):/*#__PURE__*/_jsx(_Fragment,{children:\" Table \"})},type);})})}),/*#__PURE__*/_jsx(Col,{xs:true,lg:\"2\"})]})})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Students\"}),loading?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):isGrid?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:students.map(function(student){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Student,{stuentDetails:student})},student._id);})}),/*#__PURE__*/_jsx(Paginate,{pages:pages,page:page,keyword:keyword?keyword:\"\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(StudentsTableView,{keyword:keyword,pageNumber:pageNumber})})]});};export default HomeView;","map":{"version":3,"sources":["/home/mrrobot/React/Hostel-Management-master/server/frontend/src/screens/homeView.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","Student","Loading","Message","listStudents","Paginate","Row","Col","ButtonGroup","ToggleButton","Container","StudentsTableView","HomeView","match","history","isGrid","setIsGrid","keyword","params","pageNumber","userLogin","state","userLoading","loading","userInfo","dispatch","studentsList","error","students","page","pages","push","map","type","e","target","value","student","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Student from \"../components/student\";\nimport Loading from \"../components/loader.jsx\";\nimport Message from \"../components/message.jsx\";\nimport { listStudents } from \"../actions/studentActions\";\nimport Paginate from \"../components/paginate\";\nimport {\n  Row,\n  Col,\n  ButtonGroup,\n  ToggleButton,\n  Container,\n} from \"react-bootstrap\";\nimport StudentsTableView from \"./studentTableView\";\n\nconst HomeView = ({ match, history }) => {\n  const [isGrid, setIsGrid] = useState(true);\n  const keyword = match.params.keyword;\n\n  const pageNumber = match.params.pageNumber || 1;\n  const userLogin = useSelector((state) => state.userLogin);\n  const { loading: userLoading, userInfo } = userLogin;\n\n  const dispatch = useDispatch();\n\n  const studentsList = useSelector((state) => state.studentsList);\n  const { loading, error, students, page, pages } = studentsList;\n\n  useEffect(() => {\n    if (!userLoading && !userInfo) {\n      history.push(\"/login\");\n    }\n    dispatch(listStudents(keyword, pageNumber));\n  }, [keyword, pageNumber]);\n\n  return (\n    <>\n      <>\n        <Container>\n          <Row className=\"justify-content-md-center\">\n            <Col xs lg=\"2\"></Col>\n            <Col md=\"auto\">\n              <ButtonGroup toggle>\n                {[\"Grid\", \"Table\"].map((type) => (\n                  <ToggleButton\n                    key={type}\n                    type=\"radio\"\n                    variant=\"secondary\"\n                    name=\"radio\"\n                    value={type}\n                    checked={(isGrid ? \"Grid\" : \"Table\") === type}\n                    onChange={(e) =>\n                      setIsGrid(e.target.value === \"Grid\" ? true : false)\n                    }\n                  >\n                    {type === \"Grid\" ? <> Grid</> : <> Table </>}\n                  </ToggleButton>\n                ))}\n              </ButtonGroup>\n            </Col>\n            <Col xs lg=\"2\"></Col>\n          </Row>\n        </Container>\n      </>\n\n      <h1>Students</h1>\n      {loading ? (\n        <Loading />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : isGrid ? (\n        <>\n          <Row>\n            {students.map((student) => (\n              <Col key={student._id} sm={12} md={6} lg={4} xl={3}>\n                <Student stuentDetails={student} />\n              </Col>\n            ))}\n          </Row>\n          <Paginate\n            pages={pages}\n            page={page}\n            keyword={keyword ? keyword : \"\"}\n          />\n        </>\n      ) : (\n        <>\n          <StudentsTableView keyword={keyword} pageNumber={pageNumber} />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default HomeView;\n"]},"metadata":{},"sourceType":"module"}